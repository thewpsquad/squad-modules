(()=>{"use strict";var e={n:t=>{var a=t&&t.__esModule?()=>t.default:()=>t;return e.d(a,{a}),a},d:(t,a)=>{for(var r in a)e.o(a,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:a[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.jQuery;var a=e.n(t);const r=window.wp.apiFetch;var s=e.n(r);const n=e=>{try{return JSON.parse(e),!0}catch(e){return!1}};a()((()=>{var e;e=".squad-load-more-button-wrapper",a()(".disq_post_grid").each(((t,r)=>{if(a()(r).find(e).length){const t=a()(r).find(e),o=a()(t).attr("data-options"),d=a()(t).find("script").text();if(n(o)&&n(d)){const e=JSON.parse(o),n=JSON.parse(d),i=a()(r).find(".squad-load-more-button");if(!i)return;i.on("click",(async function(o){if(o.preventDefault(),i.hasClass("is-loading"))return;a()(i).addClass("is-loading"),a()(i).addClass("disabled"),a()(i).append('<span class="spinner"></span>');const d=n.query_args.posts_per_page,p={content:n.content.replace(/\s+/g," "),query_args:n.query_args};await s()({path:`${e.endpoint_url}`,method:"POST",data:p}).then((s=>{s&&"success"===s.type&&s.html?(n.query_args.offset=Number.parseInt(s.offset)+d,a()(t).prev().append(s.html),a()(i).removeClass("is-loading"),a()(i).removeClass("disabled"),a()(i).find("span.spinner").remove(),a()(r).find("li").length===e.total_posts&&a()(t).remove()):a()(t).remove()})).catch((()=>{a()(t).remove()}))}))}}}))}))})();