(()=>{"use strict";var e={n:t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return e.d(r,{a:r}),r},d:(t,r)=>{for(var a in r)e.o(r,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:r[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.jQuery;var r=e.n(t);const a=window.wp.apiFetch;var s=e.n(a);const n=e=>{if("string"!=typeof e)return!1;try{return JSON.parse(e),!0}catch{return!1}};r()((()=>{var e;e=".squad-load-more-button-wrapper",r()(".disq_post_grid").each(((t,a)=>{if(r()(a).find(e).length){const t=r()(a).find(e),o=r()(t).attr("data-options"),i=r()(t).find("script").text();if(n(o)&&n(i)){const e=JSON.parse(o),n=JSON.parse(i),d=r()(a).find(".squad-load-more-button");if(!d)return;d.on("click",(async function(o){if(o.preventDefault(),d.hasClass("is-loading"))return;r()(d).addClass("is-loading"),r()(d).addClass("disabled"),r()(d).append('<span class="spinner"></span>');const i=n.query_args.posts_per_page,p={content:n.content.replace(/\s+/g," "),query_args:n.query_args};await s()({path:`${e.endpoint_url}`,method:"POST",data:p}).then((s=>{s&&"success"===s.type&&s.html?(n.query_args.offset=Number.parseInt(s.offset)+i,r()(t).prev().append(s.html),r()(d).removeClass("is-loading"),r()(d).removeClass("disabled"),r()(d).find("span.spinner").remove(),r()(a).find("li").length===e.total_posts&&r()(t).remove()):r()(t).remove()})).catch((()=>{r()(t).remove()}))}))}}}))}))})();