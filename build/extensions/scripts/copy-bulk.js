(()=>{"use strict";var o={n:t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},d:(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o:(o,t)=>Object.prototype.hasOwnProperty.call(o,t)};const t=window.lodash;var e=o.n(t);const n=window.jQuery;var i=o.n(n);const s=window.wp.apiFetch;var a=o.n(s);i()((o=>{const t=o(".bulkactions #bulk-action-selector-top"),n=o(".bulkactions #doaction.button.action");if(t.length&&n.length&&"function"==typeof o.toast){const i={extensions:{copy:{rest_url:""}},l10n:{copy:"Copy",copy_toast_title:"Squad Copy Extension",copy_empty_post:"Kindly choose a minimum of one row for copying.",unknown_er:"Something went wrong!"}},s=e().merge(i,window.DiviSquadExtra||{},window.DiviSquadProExtra||{}),l=s.rest_api_wp,c=async(t,e)=>{l.routes.hasOwnProperty("ExtensionCopyDuplicatePost")&&(o(".divi-squad-ext-copy-this .ext-copy-loader-overlay").css({opacity:1,display:"block"}),await a()({path:`${l.namespace}${l.routes.ExtensionCopyDuplicatePost.root}`,method:"POST",data:t}).then((o=>{o&&"function"==typeof e&&e(o)})).catch((o=>{o.message&&"function"==typeof e&&e({type:"error",message:o.message})})))};n.on("click",(function(e){if("copy_selected"===t.val()){const t=o('.wp-list-table input[type="checkbox"]:checked');if(t.length){const e=[].filter.call(t,(t=>!!parseInt(o(t).val()))),n=[].map.call(e,(t=>o(t).val()));c({post_ids:n,site_id:1,posts_count:1},(function(t){o(".divi-squad-ext-copy-this .ext-copy-loader-overlay").css({opacity:0,display:"none"}),t?t.success?(o.toast({heading:s.l10n.toast_title,text:t.message,showHideTransition:"slide",allowToastClose:!0,position:"top-right",icon:"success",loader:!1}),window.setTimeout((function(){window.location.reload()}),500)):o.toast({heading:s.l10n.copy_toast_title,text:t.message,showHideTransition:"slide",allowToastClose:!0,position:"top-right",icon:"error",loader:!1}):o.toast({heading:s.l10n.copy_toast_title,text:s.l10n.unknown_er,showHideTransition:"slide",allowToastClose:!0,position:"top-right",icon:"error",loader:!1})}))}else o.toast({heading:s.l10n.copy_toast_title,text:s.l10n.copy_empty_post,showHideTransition:"slide",allowToastClose:!0,position:"top-right",icon:"error",loader:!1});e.preventDefault()}}))}}))})();