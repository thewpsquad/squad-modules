(()=>{"use strict";var t={n:o=>{var e=o&&o.__esModule?()=>o.default:()=>o;return t.d(e,{a:e}),e},d:(o,e)=>{for(var n in e)t.o(e,n)&&!t.o(o,n)&&Object.defineProperty(o,n,{enumerable:!0,get:e[n]})},o:(t,o)=>Object.prototype.hasOwnProperty.call(t,o)};const o=window.lodash;var e=t.n(o);const n=window.jQuery;var i=t.n(n);const s=window.wp.apiFetch;var a=t.n(s);i()((t=>{const o=t(".wp-list-table .copy_this a.copy-this-post-link");if(o&&"function"==typeof o.tooltipster){const n={extensions:{copy:{rest_url:""}},l10n:{copy:"Copy",copy_toast_title:"Squad Copy Extension",unknown_er:"Something went wrong!"}},i=e().merge(n,window.DiviSquadExtra||{},window.DiviSquadProExtra||{}),s=i.rest_api_wp,r=async(e,n)=>{s.routes.hasOwnProperty("ExtensionCopyDuplicatePost")&&(t(".divi-squad-ext-copy-this .ext-copy-loader-overlay").css({opacity:1,display:"block"}),o.tooltipster("hide"),await a()({path:`${s.namespace}${s.routes.ExtensionCopyDuplicatePost.root}`,method:"POST",data:e}).then((t=>{t&&"function"==typeof n&&n(t)})).catch((t=>{t.message&&"function"==typeof n&&n({type:t.code||"error",message:t.message})})))},c=function(o){t(".divi-squad-ext-copy-this .ext-copy-loader-overlay").css({opacity:0,display:"none"}),o?o.success?(t.toast({heading:i.l10n.copy_toast_title,text:o.message,showHideTransition:"slide",allowToastClose:!0,position:"top-right",icon:"success",loader:!1}),window.setTimeout((function(){window.location.reload()}),500)):t.toast({heading:i.l10n.copy_toast_title,text:o.message,showHideTransition:"slide",allowToastClose:!0,position:"top-right",icon:"error",loader:!1}):t.toast({heading:i.l10n.copy_toast_title,text:i.l10n.unknown_er,showHideTransition:"slide",allowToastClose:!0,position:"top-right",icon:"error",loader:!1})},p={content:t("#squad_ext_copy_content"),contentAsHTML:!0,contentCloning:!0,animation:"grow",animationDuration:350,theme:"tooltipster-default",trigger:"hover",interactive:!0,interactiveTolerance:500,trackTooltip:!1,zIndex:9999999,anchor:"top-center",position:"bottom",restoration:"none",functionReady(t){t._$origin.parent().parent().css({position:"static"}),t.__Content.find(".squad-admin-button.fill-button").on("click",(function(){const o={post_ids:t._$origin.data("id"),site_id:t.__Content.find("select").val()||1,posts_count:t.__Content.find('input[type="number"]').val()||1};r(o,c)}))},functionAfter(t){t._$origin.parent().parent().removeAttr("style")},hideOnClick:!0};o.tooltipster(p),o.on("click",(function(o){const e={post_ids:t(o.target).data("id"),site_id:1,posts_count:1};r(e,c),o.preventDefault()}))}}))})();